(this["webpackJsonpreact-charts"]=this["webpackJsonpreact-charts"]||[]).push([[0],{459:function(e,t,n){},727:function(e,t,n){"use strict";n.r(t);var r=n(12),c=n(0),a=n.n(c),i=n(48),s=n.n(i),o=(n(459),n(94)),u=n(279),j=n(95),l=n.n(j),b=n(274),x=l()("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1Ijp7InVzZXJJZCI6IjEwMDUwMCJ9LCJpYXQiOjE2MDM3MTQ2MTcsImV4cCI6MTYwNjMwNjYxN30.6RyBVUMZ0JMeByKYuXK-HmITB8MTwwE4k98GP8qyInw",{apiUrl:"http://localhost:4000/cubejs-api/v1"}),h=function(e){var t=e.renderFunction,n=e.query,c=e.pivotConfig,a=Object(b.b)(n);return a.resultSet?t(Object(u.a)(Object(u.a)({},a),{},{pivotConfig:c})):Object(r.jsx)("div",{children:"Loading..."})},d=function(e){var t=e.renderFunction,n=e.query,c=e.pivotConfig,a=void 0===c?null:c;return Object(r.jsx)(b.a,{cubejsApi:x,children:Object(r.jsx)(h,{renderFunction:t,query:n,pivotConfig:a})})},O=n(53),m=n(733),p=n(734),f=n(732),y=n(731),v=function(e){var t=e.resultSet,n=e.children,c=e.ChartComponent;return Object(r.jsx)(O.l,{width:"100%",height:350,children:Object(r.jsxs)(c,{data:t.chartPivot(),children:[Object(r.jsx)(O.n,{dataKey:"x"}),Object(r.jsx)(O.o,{}),Object(r.jsx)(O.e,{}),n,Object(r.jsx)(O.g,{}),Object(r.jsx)(O.m,{})]})})},C=["#FF6492","#141446","#7A77FF"],g={line:function(e){var t=e.resultSet;return Object(r.jsx)(v,{resultSet:t,ChartComponent:O.i,children:t.seriesNames().map((function(e,t){return Object(r.jsx)(O.h,{stackId:"a",dataKey:e.key,name:e.title,stroke:C[t]},e.key)}))})},bar:function(e){var t=e.resultSet;return Object(r.jsx)(v,{resultSet:t,ChartComponent:O.d,children:t.seriesNames().map((function(e,t){return Object(r.jsx)(O.c,{stackId:"a",dataKey:e.key,name:e.title,fill:C[t]},e.key)}))})},area:function(e){var t=e.resultSet;return Object(r.jsx)(v,{resultSet:t,ChartComponent:O.b,children:t.seriesNames().map((function(e,t){return Object(r.jsx)(O.a,{stackId:"a",dataKey:e.key,name:e.title,stroke:C[t],fill:C[t]},e.key)}))})},pie:function(e){var t=e.resultSet;return Object(r.jsx)(O.l,{width:"100%",height:350,children:Object(r.jsxs)(O.k,{children:[Object(r.jsx)(O.j,{isAnimationActive:!1,data:t.chartPivot(),nameKey:"x",dataKey:t.seriesNames()[0].key,fill:"#8884d8",children:t.chartPivot().map((function(e,t){return Object(r.jsx)(O.f,{fill:C[t%C.length]},t)}))}),Object(r.jsx)(O.g,{}),Object(r.jsx)(O.m,{})]})})},number:function(e){var t=e.resultSet;return Object(r.jsx)(m.a,{type:"flex",justify:"center",align:"middle",style:{height:"100%"},children:Object(r.jsx)(p.a,{children:t.seriesNames().map((function(e){return Object(r.jsx)(f.a,{value:t.totalRow()[e.key]})}))})})},table:function(e){var t=e.resultSet,n=e.pivotConfig;return Object(r.jsx)(y.a,{pagination:!1,columns:t.tableColumns(n),dataSource:t.tablePivot(n)})}},S=n(47),k=function(e){return e.pivot().map((function(t){var n=t.xValues;return t.yValuesArray.map((function(t){var r=Object(o.a)(t,2),c=r[0],a=r[1];return{x:e.axisValuesString(n,", "),color:e.axisValuesString(c,", "),measure:a&&Number.parseFloat(a)}}))})).reduce((function(e,t){return e.concat(t)}),[])},I={recharts:g,bizcharts:{line:function(e){var t=e.resultSet;return Object(r.jsxs)(S.Chart,{scale:{x:{tickCount:8}},height:400,data:k(t),forceFit:!0,children:[Object(r.jsx)(S.Axis,{name:"x"}),Object(r.jsx)(S.Axis,{name:"measure"}),Object(r.jsx)(S.Tooltip,{crosshairs:{type:"y"}}),Object(r.jsx)(S.Geom,{type:"line",position:"x*measure",size:2,color:"color"})]})},bar:function(e){var t=e.resultSet;return Object(r.jsxs)(S.Chart,{scale:{x:{tickCount:8}},height:400,data:k(t),forceFit:!0,children:[Object(r.jsx)(S.Axis,{name:"x"}),Object(r.jsx)(S.Axis,{name:"measure"}),Object(r.jsx)(S.Tooltip,{}),Object(r.jsx)(S.Geom,{type:"interval",position:"x*measure",color:"color"})]})},area:function(e){var t=e.resultSet;return Object(r.jsxs)(S.Chart,{scale:{x:{tickCount:8}},height:400,data:k(t),forceFit:!0,children:[Object(r.jsx)(S.Axis,{name:"x"}),Object(r.jsx)(S.Axis,{name:"measure"}),Object(r.jsx)(S.Tooltip,{crosshairs:{type:"y"}}),Object(r.jsx)(S.Geom,{type:"area",position:"x*measure",size:2,color:"color"})]})},pie:function(e){var t=e.resultSet;return Object(r.jsxs)(S.Chart,{height:400,data:t.chartPivot(),forceFit:!0,children:[Object(r.jsx)(S.Coord,{type:"theta",radius:.75}),t.seriesNames().map((function(e){return Object(r.jsx)(S.Axis,{name:e.key})})),Object(r.jsx)(S.Legend,{position:"right"}),Object(r.jsx)(S.Tooltip,{}),t.seriesNames().map((function(e){return Object(r.jsx)(S.Geom,{type:"interval",position:e.key,color:"category"})}))]})},number:function(e){var t=e.resultSet;return Object(r.jsx)(m.a,{type:"flex",justify:"center",align:"middle",style:{height:"100%"},children:Object(r.jsx)(p.a,{children:t.seriesNames().map((function(e){return Object(r.jsx)(f.a,{value:t.totalRow()[e.key]})}))})})},table:function(e){var t=e.resultSet,n=e.pivotConfig;return Object(r.jsx)(y.a,{pagination:!1,columns:t.tableColumns(n),dataSource:t.tablePivot(n)})}}},F=function(){var e,t=Object(c.useState)({measures:["Sales.count"],dimensions:["Users.country"]}),n=Object(o.a)(t,2),a=n[0],i=n[1],s=Object(c.useState)(null),u=Object(o.a)(s,2),j=u[0],l=u[1],b=Object(c.useState)(null),x=Object(o.a)(b,2),h=x[0],O=x[1],m=Object(c.useState)(null),p=Object(o.a)(m,2),f=p[0],y=p[1];return Object(c.useEffect)((function(){document.body.addEventListener("cubejs",(function(e){console.log(e.detail);var t=e.detail,n=t.query,r=t.chartingLibrary,c=t.chartType;n&&i(n),j&&l(j),r&&O(r),c&&y(c)}))}),[]),Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("button",{onClick:function(){return O("recharts"===h?"bizcharts":"recharts")},children:"Change Chart Type"}),Object(r.jsx)("button",{onClick:function(){return i({measures:["Sales.count","Sales.amount"],dimensions:["Sales.ts.month"]})},children:"Change Query"}),(null===(e=I[h])||void 0===e?void 0:e[f])?Object(r.jsx)(d,{renderFunction:I[h][f],query:a,pivotConfig:j}):null]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,735)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};s.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(F,{})}),document.getElementById("root")),N()}},[[727,1,2]]]);
//# sourceMappingURL=main.757e73cd.chunk.js.map